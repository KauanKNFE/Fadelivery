<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <!-- Configuração de caracteres e viewport para responsividade -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Título da página -->
    <title>Fadelivery - Cardápio</title>
    
    <!-- Importação de estilos externos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/pure-min.css" integrity="sha384-X38yfunGUhNzHpBaEBsWLO+A0HDYOQi8ufWDkZ0k9e0eXz/tH3II7uKZ9msv++Ls" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/purecss@3.0.0/build/grids-responsive-min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="../padrao/estilo.css"> <!-- Estilo local -->
    <link rel="stylesheet" href="../../estilo-padrao/header.css"> <!-- Estilo do cabeçalho -->
    <link rel="stylesheet" href="../../estilo-padrao/footer.css"> <!-- Estilo do rodapé -->
</head>
<body>
    <!-- Cabeçalho -->
    <header>
        <div class="header-bar">
            <!-- Logo e link para a página inicial -->
            <a href="../../index.html"><h1 class="fadelivery">Fadelivery</h1></a>
            
            <!-- Ícone do menu mobile e função de alternância -->
            <div class="menu-toggle" onclick="toggleMenu()">
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                    <rect width="30" height="2" fill="#FFF"/>
                    <rect y="7" width="30" height="2" fill="#FFF"/>
                    <rect y="14" width="30" height="2" fill="#FFF"/>
                    <rect y="21" width="30" height="2" fill="#FFF"/>
                </svg>
            </div>
            
            <!-- Lista de navegação -->
            <ul class="menu">
                <li><a href="">Fadas</a></li>
                <li><a href="">Contato</a></li>
                <li><a href="">FAQ</a></li>
                <li><a href="">Nossa Qualidade</a></li>
                
                <!-- Ícone do carrinho de compras -->
                <li>
                    <a href="../../carrinho/index.html">
                      <div class="basket">
                        <img class="icon-basket" src="../../img/icons/basket.png" alt="">
                    </div>
                    </a>
                </li>
            </ul>
        </div>
    </header>

    <!-- Corpo principal da página -->
    <main class="pure-g">
        <div class="pure-u-1 pure-u-md-1-2 container-t">
            <div class="name-background">
                <h1 class="title2">Pratos em Restaurantes</h1>
            </div>
            <p>Estilo, distancia, preço</p>

            <h2>Nossos itens mais pedidos!</h2>

            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide"><img src="../../img/blank.jpeg" alt=""><div class="overlay-text"><h1>Item1</h1></div></div>
                    <div class="swiper-slide"><img src="../../img/blank.jpeg" alt=""><div class="overlay-text"><h1>Item2</h1></div></div>
                    <div class="swiper-slide"><img src="../../img/blank.jpeg" alt=""><div class="overlay-text"><h1>Item3</h1></div></div>
                </div>
                <!-- If we need pagination -->
                <div class="swiper-pagination"></div>
                <!-- If we need navigation buttons -->
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
            </div>

        </div>
        
        <div class="pure-u-1 pure-u-md-1-2 container-b">
            <h1 class="title3">Cárdapio</h1>
            
            <h3 class="entrega">Hoje, X0-X0 min. R$X,00</h3>
            <div id="cardapio"> 
                <!-- Categoria 1 -->
                <h2 class="pure-u-1">Categoria 1</h2>
            
                <!-- Item 1 -->
                <div id="item1" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 1</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item1', 'Nome do item 1', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 2 -->
                <div id="item2" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 2</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item2', 'Nome do item 2', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 3 -->
                <div id="item3" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 3</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item3', 'Nome do item 3', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 4 -->
                <div id="item4" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 4</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item4', 'Nome do item 4', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Categoria 2 -->
                <h2 class="pure-u-1">Categoria 2</h2>
            
                <!-- Item 5 -->
                <div id="item5" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 5</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item5', 'Nome do item 5', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 6 -->
                <div id="item6" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 6</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item6', 'Nome do item 6', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 7 -->
                <div id="item7" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 7</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item7', 'Nome do item 7', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 8 -->
                <div id="item8" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 8</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item8', 'Nome do item 8', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Categoria 3 -->
                <h2 class="pure-u-1">Categoria 3</h2>
            
                <!-- Item 9 -->
                <div id="item9" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 9</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item9', 'Nome do item 9', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 10 -->
                <div id="item10" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 10</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item10', 'Nome do item 10', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 11 -->
                <div id="item11" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 11</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item11', 'Nome do item 11', 10.00)">Adicionar ao carrinho</button>
                </div>
            
                <!-- Item 12 -->
                <div id="item12" class="item pure-u-1-2">
                    <img class="img-item" src="../../img/blank.jpeg" alt="">
                    <h4>Nome do item 12</h4>
                    <p data-price="10.00">R$0,00</p>
                    <button onclick="addToCart('item12', 'Nome do item 12', 10.00)">Adicionar ao carrinho</button>
                </div>
            </div>
            
            <a href="../../carrinho/index.html"><h3 class="entrega2">Itens no carrinho: <span id="cart-count">0</span> - Total: R$<span id="total-price">0.00</span><p></p> Compre Agora!</h3></a>
        
        </div> 
        </div>
    </main>

    <!-- Rodapé -->
    <footer>
        <div class="footer-bar pure-g">
            <!-- Links para redes sociais -->
            <a class="pure-u-1 pure-u-md-1-8" href=""><div class="icon-footer"> <img class="icon-social" src="../../img/icons/instagram.png" alt=""> <h1>Instagram</h1> </div></a>
            <a class="pure-u-1 pure-u-md-1-8" href=""><div class="icon-footer"> <img class="icon-social" src="../../img/icons/facebook.png" alt=""> <h1>Facebook</h1> </div></a>
            <a class="pure-u-1 pure-u-md-1-8" href=""><div class="icon-footer"> <img class="icon-social" src="../../img/icons/twitter.png" alt=""> <h1>Twitter</h1> </div></a>
            
            <!-- Direitos autorais -->
            <div class="pure-u-1 pure-u-md-1-2"><h1> Fadelivery inc. Todos os direitos reservados, 2023 </h1></div>
        </div>
    </footer>

    <!-- Script para alternar o menu mobile -->
    <script>
        function toggleMenu() {
            var menu = document.querySelector('.menu');
            menu.classList.toggle('active');
        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        // Inicialização do Swiper para o slider
        document.addEventListener('DOMContentLoaded', function () {
            var swiper = new Swiper(".mySwiper", {
                pagination: {
                el: '.swiper-pagination',
                },
                navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
                },
                effect: "cards",
                grabCursor: true,
            });
        });
    </script>
    <script>
        var cart = {};
    
        // Função para atualizar a contagem e o valor total do carrinho na página do restaurante
        function updateCartInfo() {
            var cartCountElement = document.getElementById('cart-count');
            var totalPriceElement = document.getElementById('total-price');
    
            // Recupere as informações do localStorage
            var storedCartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    
            // Inicialize o carrinho com base nos itens recuperados
            cart = initializeCart(storedCartItems);
    
            // Atualize a contagem e o valor total na página do restaurante
            var totalItems = Object.values(cart).reduce((a, b) => a + b, 0);
            var total = calculateTotalPrice();
    
            cartCountElement.textContent = totalItems;
            totalPriceElement.textContent = total.toFixed(2);
        }
    
        // Inicialize o carrinho com base nos itens recuperados do localStorage
        function initializeCart(storedCartItems) {
            var initializedCart = {};
            storedCartItems.forEach(item => {
                initializedCart[item.id] = initializedCart[item.id] ? initializedCart[item.id] + 1 : 1;
            });
            return initializedCart;
        }
    
        // Chamada à função updateCartInfo ao carregar a página ou sempre que a página for exibida
        document.addEventListener('DOMContentLoaded', updateCartInfo);
        window.addEventListener('pageshow', updateCartInfo);
    
        function addToCart(itemId, itemName, itemPrice) {
            if (cart[itemId]) {
                cart[itemId]++;
            } else {
                cart[itemId] = 1;
            }
    
            updateCartCount();
            updateTotalPrice();
    
            // Armazene as informações do item no localStorage
            var cartItem = {
                id: itemId,
                name: itemName,
                price: itemPrice
            };
            var cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            cartItems.push(cartItem);
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
        }
    
        function updateCartCount() {
            var cartCountElement = document.getElementById('cart-count');
            var totalItems = Object.values(cart).reduce((a, b) => a + b, 0);
            cartCountElement.textContent = totalItems;
        }
    
        function updateTotalPrice() {
            var totalPriceElement = document.getElementById('total-price');
            var newTotal = calculateTotalPrice();
            totalPriceElement.textContent = newTotal.toFixed(2);
        }
    
        function calculateTotalPrice() {
    var totalPrice = 0;
    for (var itemId in cart) {
        var itemPrice = parseFloat(document.getElementById(itemId).querySelector('p').dataset.price);
        totalPrice += cart[itemId] * itemPrice;
    }
    return totalPrice;
}

    </script>
    
</body>
</html>
